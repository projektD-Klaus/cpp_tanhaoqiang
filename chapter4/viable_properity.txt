作用域是从空间角度来分析的，分全局和局部变量．
变量还有一种属性：　存储期，也称生命期．　分静态存储器和动态存储期．
静态存储：系统分配固定存储空间
动态存储：系统动态地分配存储空间

全局变量全部在静态存储空间　程序开始时分配，结束时候释放．


动态存储区存放　１．形参　２．函数中的自动变量（未加ｓｔａｔｉｃ声明的局部变量）
３．函数调用时的现场保护和返回地址
对以上这些数据，在函数调用开始时分配动态存储
空间，函数结束时释放这些空间。在程序执行过程
中，这种分配和释放是动态的，如果在一个程序中
两次调用同一函数，则要进行两次分配和释放，而
两次分配给此函数中局部变量的存储空间地址可能
是不相同的


C++中变量除了有数据类型的属性之外，还有存
储类别(storage class)的属性。存储类别指的是数
据在内存中存储的方法。存储方法分为静态存储和
动态存储两大类。具体包含4种：自动的(auto)、 静
态的(static)、 寄存器的(register)和外部的(extern)。
根据变量的存储类别，可以知道变量的作用域和存
储期．

１auto
函数中的局部变量，如果不用关键字static加以声
明，编译系统对它们是动态地分配存储空间的。函
数的形参和在函数中定义的变量(包括在复合语句
中定义的变量)都属此类。在调用该函数时，系统
给形参和函数中定义的变量分配存储空间，数据存
储在动态存储区中。在函数调用结束时就自动释放
这些空间。如果是在复合语句中定义的变量，则在
变量定义时分配存储空间，在复合语句结束时自动
释放空间。因此这类局部变量称为自动变量(auto
variable)。 自动变量用关键字auto作存储类别的声
明
2 static
时希望函数中的局部变量的值在函数调用结束后
不消失而保留原值，即其占用的存储单元不释放，
在下一次该函数调用时，该变量保留上一次函数调
用结束时的值。这时就应该指定该局部变量为静态
局部变量(static local variable)
3 register
为提高执行效率， C++允许将局部变量的值放在
CPU中的寄存器中，需要用时直接从寄存器取出参
加运算，不必再到内存中去存取。这种变量叫做寄
存器变量，用关键字register作声明
４　全局变量(外部变量)是在函数的外部定义的，它的
作用域为从变量的定义处开始，到本程序文件的末
尾。在此作用域内，全局变量可以为本文件中各个
函数所引用。编译时将全局变量分配在静态存储区。
有时需要用extern来声明全局变量，以扩展全局变
量的作用域

有时在程序设计中希望某些外部变量只限于被本文
件引用，而不能被其他文件引用。这时可以在定义
外部变量时加一个static声明
种加上static声明、只能用于本文件的外部变量
（全局变量）称为静态外部变量。这就为程序的模
块化、通用性提供了方便。如果已知道其他文件不
需要引用本文件的全局变量，可以对本文件中的全
局变量都加上static， 成为静态外部变量，以免被
其他文件误用



小结：
一个变量除了数据类型以外，还有3种属性：
(1)存储类别C++允许使用auto,static,register和
extern 4种存储类别。
(2)作用域指程序中可以引用该变量的区域。
(3)存储期指变量在内存的存储期限。
以上3种属性是有联系的，程序设计者只能声明变
量的存储类别，通过存储类别可以确定变量的作用
域和存储期。

注意存储类别的用法。 auto, static和register 3种
存储类别只能用于变量的定义语句中

说明： extern只能用来声明已定义的外部变量，而
不能用于变量的定义。只要看到extern， 就可以判
定这是变量声明，而不是定义变量的语句。
下面从不同角度分析它们之间的联系。

(1)从作用域角度分，有局部变量和全局变量。它
们采用的存储类别如下：
●局部变量
自动变量,即动态局部变量(离开函数,值就消失)
静态局部变量(离开函数,值仍保留)
寄存器变量(离开函数,值就消失)
形式参数(可以定义为自动变量或寄存器变量)
●全局变量
静态外部变量(只限本文件引用)
外部变量(即非静态的外部变量,允许其他文件引用）
(2)从变量存储期(存在的时间)来区分,有动态存储
和静态存储两种类型。静态存储是程序整个运行时
间都存在,而动态存储则是在调用函数时临时分配
单元。
●动态存储
自动变量(本函数内有效)
寄存器变量(本函数内有效)
形式参数
●静态存储
静态局部变量(函数内有效)
静态外部变量(本文件内有效)
外部变量(其他文件可引用)
(3)从变量值存放的位置来区分,可分为
●内存中静态存储区
静态局部变量
静态外部变量(函数外部静态变量)
外部变量(可为其他文件引用)
●内存中动态存储区： 自动变量和形式参数
● CPU中的寄存器： 寄存器变量
(4)关于作用域和存储期的概念。从前面叙述可以
知道，对一个变量的性质可以从两个方面分析，一
是从变量的作用域，一是从变量值存在时间的长
短，即存储期。前者是从空间的角度，后者是从时
间的角度。二者有联系但不是同一回事。
